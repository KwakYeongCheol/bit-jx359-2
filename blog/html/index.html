<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8" />
	<title>jQuery</title>
	<link rel="stylesheet" href="common.css"></head>
</head>
<body>
<div class="wrap">
	<div class="contents">
	<div class="category dropable">
		<div id="sample" class="post dragable">
			글1
		</div>
		
		<div class="post dragable">
			글2
		</div>
		
		<div class="post dragable">
			글3
		</div>
	</div>
	
	<div class="category dropable">
		<div class="post dragable">
			글#1
		</div>
		
		<div class="post dragable">
			글#2
		</div>
		
		<div class="post dragable">
			글#3
		</div>
	</div>
	</div>
</div>
	
	<script src="jquery-1.8.2.js"></script>
	<script>
		$(document).ready(function(){				
			var currentDiv;
			
			$('.dragable').mousedown(function(e){
				if(currentDiv)	currentDiv.show();
				
				currentDiv = $(this);
				$(this).hide();
				var moveDiv = $("<div>");
				$(document).mousemove(function(e){
					moveDiv.html('hi');
					moveDiv.css('position', 'absolute');
					moveDiv.css('margin-left', e.pageX);
					moveDiv.css('margin-top', e.pageY);
					moveDiv.appendTo($("body"));
					moveDiv.show();
				});
			});
			
			$('.dropable').mouseup(function(e){
				if(currentDiv){
				
					$(this).children().eq(1).after(currentDiv);
					currentDiv.show();
					currentDiv = null;
				}
			});
			
			$('body').mouseup(function(e){
				if(currentDiv){
					currentDiv.show();
					currentDiv = null;
				}
			});
		});
	</script>	
</body>
</html>