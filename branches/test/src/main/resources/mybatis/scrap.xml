<!DOCTYPE sqlMap
    PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="Scrap">
	<typeAlias alias="Scrap" type="kr.co.webcash.domain.Scrap"/>

	
	<insert id="insert" parameterClass="Scrap">
		insert into scraps (postId, scrappedBlogId, scrappedPostId, scrappedPostTitle, scrappedPostContents)
		values(#postId#, #scrappedBlog.id#, #scrappedPostId#, #scrappedPostTitle#, #scrappedPostContents#)
	</insert>
	
	<select id="findAllByPostId" resultClass="Scrap">
		SELECT
			postId, scrappedBlogId as "scrappedBlog.id", scrappedPostId, scrappedPostTitle, scrappedPostContents
		FROM scraps
		where postId = #postId#
	</select>
	
	<select id="findByPostIdAndScrappedBlogIdAndScrappedPostId" resultClass="Scrap">
		SELECT
			postId, scrappedBlogId as "scrappedBlog.id", scrappedPostId, scrappedPostTitle, scrappedPostContents
		FROM scraps
		where postId = #postId#
			and scrappedBlogId = #scrappedBlogId#
			and scrappedPostId = #scrappedPostId#
	</select>
	
	
	
</sqlMap>